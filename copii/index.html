<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!--
    HTML 1.7 â€” EDUCAÈšIONAL: Poveste + IlustraÈ›ie (6 cadre)
    Managementul configuraÈ›iei: versiune crescÄƒtoare

    FIX 1.7 (TipÄƒrire + preview citet, inclusiv Ã®n Google Sites embed):
    - Buton "TipÄƒreÈ™te": deschide pagina DIRECTÄ‚ Ã®n tab nou cu ?print=1 È™i declanÈ™eazÄƒ print acolo
    - Buton "Previzualizare tipÄƒrire": comutÄƒ stil alb/negru (ca la print) pentru citire Ã®n preview
    - Eliminat textul "pentru profesor" / instrucÈ›iuni pentru adult din conÈ›inutul afiÈ™at
  -->

  <title>Povestea simplÄƒ a programÄƒrii â€” FiÈ™Äƒ educaÈ›ionalÄƒ</title>

  <style>
    :root{
      --bg: #0b1020;
      --text: #eaf0ff;
      --muted: rgba(234,240,255,0.75);
      --accent: #7cc7ff;
      --border: rgba(255,255,255,0.12);
      --shadow: 0 12px 28px rgba(0,0,0,0.35);
      --radius: 18px;
      --radius2: 14px;
      --maxw: 1050px;
    }

    *{ box-sizing: border-box; }
    body{
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      background:
        radial-gradient(1200px 700px at 20% 10%, rgba(124,199,255,0.18), transparent 55%),
        radial-gradient(900px 650px at 85% 25%, rgba(88,214,141,0.12), transparent 55%),
        var(--bg);
      color: var(--text);
      line-height: 1.45;
    }

    .wrap{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 28px 18px 40px;
    }

    header{
      display: grid;
      gap: 12px;
      padding: 18px 18px 12px;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .badge{
      display: inline-flex;
      align-items: center;
      gap: 8px;
      width: fit-content;
      padding: 6px 10px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,0.18);
      border-radius: 999px;
      color: var(--muted);
      font-size: 12px;
      letter-spacing: 0.2px;
      font-weight: 800;
    }

    h1{
      margin: 0;
      font-size: clamp(22px, 3.2vw, 34px);
      letter-spacing: 0.2px;
    }

    .lead{
      margin: 0;
      color: var(--muted);
      font-size: 15px;
      max-width: 85ch;
    }

    .top-actions{
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 6px;
      align-items: center;
    }

    button, a.btn{
      appearance: none;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.07);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 900;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: transform 0.06s ease, background 0.12s ease, border-color 0.12s ease;
    }
    button:hover, a.btn:hover{
      background: rgba(255,255,255,0.10);
      border-color: rgba(255,255,255,0.22);
    }
    button:active, a.btn:active{ transform: translateY(1px); }

    main{
      margin-top: 16px;
      display: grid;
      gap: 14px;
    }

    .card{
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.05);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .card h2{
      margin: 0;
      padding: 14px 16px 0;
      font-size: 18px;
      color: var(--text);
    }

    .card .content{
      padding: 12px 16px 16px;
      color: var(--muted);
    }

    .illustration{
      display: grid;
      gap: 10px;
    }

    figure{
      margin: 0;
      border: 1px solid var(--border);
      background: rgba(0,0,0,0.18);
      border-radius: var(--radius2);
      overflow: hidden;
    }

    figure img{
      display: block;
      width: 100%;
      height: auto;
    }

    figcaption{
      padding: 10px 12px;
      font-size: 13px;
      color: var(--muted);
      border-top: 1px solid var(--border);
      background: rgba(255,255,255,0.04);
    }

    .hint{
      padding: 10px 12px;
      border: 1px dashed rgba(255,255,255,0.22);
      border-radius: 12px;
      background: rgba(255,255,255,0.04);
      font-size: 13px;
      color: var(--muted);
    }

    .grid{
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      padding: 14px 16px 16px;
    }

    .panel{
      grid-column: span 6;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0.04));
      border-radius: var(--radius2);
      padding: 12px;
      display: grid;
      gap: 10px;
      min-height: 145px;
    }

    .panel .label{
      display: inline-flex;
      width: fit-content;
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,0.18);
      color: var(--muted);
      font-size: 12px;
      font-weight: 900;
      letter-spacing: 0.2px;
    }

    .bubble{
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.18);
      border-radius: 14px;
      padding: 10px 10px;
      color: var(--text);
    }

    .who{
      font-weight: 900;
      color: var(--accent);
    }

    ul.steps{
      margin: 0;
      padding-left: 18px;
      color: var(--text);
    }
    ul.steps li{ margin: 6px 0; }

    .key{
      border: 1px solid rgba(88,214,141,0.28);
      background: rgba(88,214,141,0.10);
      border-radius: var(--radius2);
      padding: 14px 16px;
      display: grid;
      gap: 6px;
    }

    .key .big{
      font-size: clamp(18px, 2.2vw, 24px);
      font-weight: 950;
      color: #eafff2;
      letter-spacing: 0.2px;
    }

    .key .small{
      margin: 0;
      color: rgba(234,240,255,0.82);
      font-size: 14px;
    }

    @media (max-width: 860px){
      .panel{ grid-column: span 12; }
    }

    /* =========================
       PRINT PREVIEW (on-screen)
       ========================= */
    body.print-preview{
      background:#fff !important;
      color:#000 !important;
      font-family: Arial, Helvetica, sans-serif !important;
    }
    body.print-preview *{
      color:#000 !important;
      text-shadow:none !important;
      box-shadow:none !important;
      background:transparent !important;
      filter:none !important;
    }
    body.print-preview header,
    body.print-preview .card,
    body.print-preview figure,
    body.print-preview .panel,
    body.print-preview .key{
      border-color:#bdbdbd !important;
      border-radius:0 !important;
      box-shadow:none !important;
    }
    body.print-preview .badge{
      background:transparent !important;
      border-color:#bdbdbd !important;
      color:#000 !important;
    }
    body.print-preview .who{ color:#0b4aa2 !important; }
    body.print-preview .bubble{ border-color:#bdbdbd !important; }

    /* =========================
       Print-friendly
       ========================= */
    @media print{
      @page{ margin: 12mm; }
      body{ background: #ffffff !important; color: #000000 !important; }
      header, .card, figure, .panel, .key{
        box-shadow: none !important;
        background: #ffffff !important;
        border-color: #cccccc !important;
        border-radius: 0 !important;
      }
      .badge, .top-actions, .hint{ display: none !important; }
      .wrap{ padding: 0 !important; }
      .who{ color: #0b4aa2 !important; }
      .key{ border-color: #4dbb74 !important; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="badge" aria-label="Versiune document">
        <span>HTML 1.7</span>
        <span>â€¢</span>
        <span>FiÈ™Äƒ educaÈ›ionalÄƒ</span>
        <span>â€¢</span>
        <span>Poveste + ilustraÈ›ie</span>
      </div>

      <h1>Povestea simplÄƒ a programÄƒrii</h1>
      <p class="lead">
        O poveste scurtÄƒ: calculatorul este foarte ascultÄƒtor, dar are nevoie de instrucÈ›iuni clare, pas cu pas.
      </p>

      <div class="top-actions">
        <button type="button" id="ppBtn" onclick="togglePrintPreview()">ğŸ§¾ Previzualizare tipÄƒrire</button>
        <button type="button" onclick="printSafe()">ğŸ–¨ï¸ TipÄƒreÈ™te</button>
        <a class="btn" id="printOpenBtn" href="#" target="_blank" rel="noopener">â†— Deschide pagina direct</a>
      </div>
    </header>

    <main>
      <section class="card" aria-label="IlustraÈ›ie">
        <h2>IlustraÈ›ie</h2>
        <div class="content illustration">
          <figure>
            <img
              src="ilustratie_programare.png"
              alt="IlustraÈ›ie Ã®n 6 cadre: copilul Ã®i explicÄƒ unui calculator cum sÄƒ facÄƒ lucruri pas cu pas."
              onerror="this.style.display='none'; document.getElementById('imgFallback').style.display='block';"
            />
            <figcaption>
              DacÄƒ nu vezi imaginea, pune fiÈ™ierul <b>ilustratie_programare.png</b> lÃ¢ngÄƒ acest HTML (Ã®n acelaÈ™i folder).
            </figcaption>
          </figure>

          <div id="imgFallback" class="hint" style="display:none;">
            Imaginea nu a fost gÄƒsitÄƒ. Pune fiÈ™ierul <b>ilustratie_programare.png</b> Ã®n acelaÈ™i folder cu pagina.
          </div>
        </div>
      </section>

      <section class="card" aria-label="Povestea Ã®n 6 cadre">
        <h2>Povestea (6 cadre)</h2>

        <div class="grid">
          <article class="panel">
            <div class="label">Cadru 1</div>
            <div class="bubble">
              <span class="who">Copilul:</span> â€De ce eÈ™ti trist?â€
            </div>
            <div class="bubble">
              <span class="who">Calculatorul:</span> â€Pentru cÄƒ sunt foarte ascultÄƒtor, dar nimeni nu Ã®mi spune ce sÄƒ fac.â€
            </div>
          </article>

          <article class="panel">
            <div class="label">Cadru 2</div>
            <div class="bubble">
              <span class="who">Copilul:</span> â€Bine. ÃÈ›i spun eu. DeseneazÄƒ un cerc!â€
            </div>
            <div class="bubble">
              <span class="who">Calculatorul:</span> â€Cum sÄƒ desenez? Unde? Cu ce?â€
            </div>
          </article>

          <article class="panel">
            <div class="label">Cadru 3</div>
            <div class="bubble">
              Text explicativ:
              <br />
              â€Calculatorul nu Ã®nÈ›elege dorinÈ›e.
              <br />
              El Ã®nÈ›elege doar paÈ™i mici È™i clari.â€
            </div>
          </article>

          <article class="panel">
            <div class="label">Cadru 4</div>
            <div class="bubble">
              InstrucÈ›iuni (pas cu pas):
              <ul class="steps">
                <li>â€PorneÈ™te creionul.â€</li>
                <li>â€MutÄƒ-l puÈ›in la dreapta.â€</li>
                <li>â€Ãntoarce-l puÈ›in.â€</li>
                <li>â€RepetÄƒ iar È™i iar.â€</li>
              </ul>
            </div>
          </article>

          <article class="panel">
            <div class="label">Cadru 5</div>
            <div class="bubble">
              <span class="who">Copilul:</span> â€Ura! A apÄƒrut un cerc!â€
            </div>
            <div class="bubble">
              <span class="who">Calculatorul:</span> â€FuncÈ›ioneazÄƒ!â€
            </div>
          </article>

          <article class="panel">
            <div class="label">Cadru 6</div>
            <div class="bubble">
              Text final:
              <br />
              <b>â€Programarea Ã®nseamnÄƒ sÄƒ spui lucrurilor ce sÄƒ facÄƒ, pas cu pas.â€</b>
            </div>
          </article>
        </div>

        <div class="content">
          <div class="key" aria-label="Ideea-cheie">
            <div class="big">Ideea-cheie</div>
            <p class="small">
              Un calculator nu ghiceÈ™te. DacÄƒ vrei sÄƒ facÄƒ ceva, Ã®i spui exact paÈ™ii, Ã®n ordine.
            </p>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // HTML 1.7 â€” Print safe + preview citet

    // CONFIG: dacÄƒ vrei sÄƒ forÈ›ezi un URL direct (GitHub Pages), pune aici.
    // DacÄƒ laÈ™i "", se calculeazÄƒ automat din adresa curentÄƒ (cÃ¢nd e deschis direct).
    const DIRECT_URL = "";

    function normalizeBaseFromHref(href){
      const url = new URL(href);
      let base = url.href;

      if (base.endsWith("index.html")) {
        base = base.slice(0, -("index.html".length));
      }
      if (!base.endsWith("/")) base += "/";
      return base;
    }

    function getDirectBase(){
      const d = String(DIRECT_URL || "").trim();
      if (d) return d.endsWith("/") ? d : (d + "/");
      return normalizeBaseFromHref(window.location.href);
    }

    function togglePrintPreview(){
      const on = document.body.classList.toggle("print-preview");
      const b = document.getElementById("ppBtn");
      b.textContent = on ? "ğŸ§¾ Preview: ON" : "ğŸ§¾ Previzualizare tipÄƒrire";
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function printSafe(){
      const base = getDirectBase();
      const here = window.location.href;

      // dacÄƒ suntem deja pe pagina directÄƒ (nu Ã®n embed), printÄƒm aici
      if (here.startsWith(base)) {
        window.print();
        return;
      }

      // altfel, deschidem pagina directÄƒ cu ?print=1 Ã®n tab nou (print acolo)
      const target = base + "?print=1";
      window.open(target, "_blank", "noopener");
    }

    function autoPrintIfRequested(){
      const q = new URLSearchParams(window.location.search);
      if(q.get("print") === "1"){
        document.body.classList.add("print-preview");
        const b = document.getElementById("ppBtn");
        if (b) b.textContent = "ğŸ§¾ Preview: ON";
        setTimeout(() => window.print(), 120);
      }
    }

    (function init(){
      const base = getDirectBase();
      document.getElementById("printOpenBtn").href = base;
      autoPrintIfRequested();
    })();
  </script>
</body>
</html>
